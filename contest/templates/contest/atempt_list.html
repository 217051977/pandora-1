{% extends "base.html" %}
{% load static from staticfiles %}
{% block content %}

<div class="row">
	<div class="col-md-6">
		<div class="card border rounded shadow-sm mb-4 mt-4">
			<div class="card-body text-center">
				<h5 class="car-title mb-2 text-primary">{{ team.name }}</h5>
				<p class="card-text mb-auto">

					<table class="table">
						<tbody>
							{% for m in team.members %}
							<tr>
								<td>{{ m.user.username }}</td>
								<td>{{ m.user.profile.number }}</td>
							</tr>
							{% endfor %}	
						</tbody>
					</table>
				</p>
			</div>
		</div>
	</div>	
	<div class="col-md-6">
		<div class="card border rounded shadow-sm mb-4 mt-4">
			<div class="card-body text-center">
				<h5 class="car-title mb-2 text-primary">Current Status</h5>
				<p class="card-text mb-auto">

					<table class="table">
						<tbody>
							<tr>
								<td>Classification</td>
								<td>{{ last_classification }}</td>
							</tr>							
							<tr>
								<td>Number of Submitions</td>						
								<td>{{ number_of_submitions }}</td>
							</tr>
							<tr>
								<td>Time Benchmark</td>						
								<td>{% if last_execution_time == maxsize %}Inf{% else %}{{ last_execution_time }} (&mu;s){% endif %}</td>
							</tr>
								<td>Memory Benchmark</td>						
								<td>{% if last_memory_usage == maxsize %}Inf{% else %}{{ last_memory_usage }} (kbytes){% endif %}</td>
							</tr>							
						</tbody>
					</table>
				</p>
			</div>
		</div>
	</div>
</div>


<div class='row'>
	<div class="col-md-12">
		<div class="card border rounded shadow-sm mb-4">
			<div class="card-body text-center">
				<h5 class="car-title mb-2 text-primary">Submition History</h5>
				<p class="card-text mb-auto">			
					<table class="table">
						<thead>
							<tr>
								<th>Atempt #</th>
								<th>User</th>
								<th>When</th>
								<th>Comment</th>						
								<th>Time [&mu;s]</th>
								<th>Mem [kbytes]</th>
								<th>Grade</th>
							</tr>
						</thead>
						<tbody>
						{% for a in atempts %}
							<tr>
								<td><a class="btn btn-sm btn-outline-secondary" href="{{ a.get_absolute_url }}">{{ forloop.revcounter }}</a></td>
								<td>{{ a.user.username }}</td>
								<td>{{ a.date }}</td>
								<td>{{ a.comment }}</td>
								<td>{% if a.time_benchmark == maxsize %}Inf{% else %}{{ a.time_benchmark }}{% endif %}</td>					
								<td>{% if a.memory_benchmark == maxsize %}Inf{% else %}{{ a.memory_benchmark }}{% endif %}</td>					
								<td>{{ a.grade }}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</p>
			</div>
		</div>
	</div>
</div>


{% endblock %}
